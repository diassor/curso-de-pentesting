Arquitectura de Metasploit

dos moulos
    estos dos modulos son los que componen el corazon de Metasploit

msf-core :
    es la api basica
    es donde esta la definicion del fremwork y desde donde de
    realiza la sincronizacion de todos los modulos

msf-base:
    Es una API de segundo nivel y proporciona tambien recursos
    para los demas modulos que se conectan
    la mayoria de modulos externos que conectemos a Metasploit
    se van a conectar a esta API base y no a la API core

adicionalmente tenemos las librerias

    REX = Que es la libreria que realiza la mayoria contidad de
    operaciones , se encarge de manejar los sockets , los
    protocolos , tambien cuando hay que crear paquetes , ciertas
    operaciones , operaciones soor , administrar enlaces y muchas
    cosa mas
        todo esto y mas se realizan en la libreria REX

Estas tres librerias (REX, MSF-Core, MSF-Base) son el corazon
de Metasploit

A estas librerias son a las que todos los plugings , modulos y mas
son a las que se van a conectar

@ Modulos =  Son muchos y estan almacenados en la base de datos

    Exploit = Es cada una de las partes de codigo que se utilizan
              para aprovechar las vulnuerabilidades que existan
              es una base de datos muy grandes de exploits que
              estem disponibles , que se actualizan a cada ves
              que actualizamos la herramienta

              En particular para kali-linux Metasploit hace parte
              general de los paquetes que trae kali-linx dentro de
              su estructura del sistema operativo

              Cuando actualizamos kali actualiza Metasploit
              Automatically

    Payloads =  Es la carga que se envia dentro del ataque que
                hacemos ,
                cuando se ejecuta una parte del codigo que es el
                exploit adicionalmente se carga a el la parte del
                payload que es la accion que yo quiero que se
                ejecute una ves ese exploit alla tenido exito

                ejemplo :
                en las cabeceras de TCP los fragmentos son los
                payloads es la carga de los paquetes

    Encoder =   Son moulos que nos permiten ofuscar o cubrir el
                el codigo que estamos enviando para que no sea
                detectado , por que muchos antivirus ya conocen
                muchos de los modulos y exploits tradicionalmente
                por eso a traves de los encoder podemos tratar de
                ocultar un poco ese codigo

    NOP =       Lo que hacen es incertar ceros (no operations )
                que son valores ceros en la carga del payload
                por que se hace esto ?

                por que muchas veces cuando estamos haciendo un
                desborde de pila tenemos que apuntar exactamente
                osea llenar la pila lo suficiente para que el star
                pointer apunte exactamente a la instruccion que
                nosotros queremos ejecutar
                (es algo como el staroverflowr) o un desborde de
                pila es rellenar la pila del procesador para que
                se ejecute la instruccion que le hemos dado

                muchas veces tambien es para ajustar el tamano
                del paquete para que encaje exactamente en la
                direccion que queremos apuntar

    Auxiliary = Son los que nos permiten usar otras herramientas
                u otros modulos que son integrales de Metasploit
                pero que no son necesariamente exploits o
                payloads


Los Plugins = Son herramientas o extenciones ue se agregan a
              Metasploit para muchas funcionalidades

              @@@@ Conectado al modulo base

herramienta que van conectadas a REX ejemplo :
    tenemos una implementacion de nmap , podemos ejecutar nmap
    desde la misma consola de Metasploit sin necesidad de
    abrir la consola de nmap , manejando todo desde una sola
    consola y los resultado de nmap se pueden ir almacenando en
    la base de datos de Metasploit

Interfaces =  Tambien conentado al modulo base
        son con las que interactuamos con Metasploit
        originalmente hay una interfaz de consola que es la
        msfconsole ,
        hay otra de CLI que es la linea de comandos que trabaja
        juntas
        hay una mas usada es Armitage
