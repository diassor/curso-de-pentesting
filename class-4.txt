Instalacion de las herramientas para un laboratorio
	de pentesting


Estamos ubicando las ip entre los enroutadores y equipos

Hay vulneravilidades entre los enroutadores por eso
estamos haciendo una red interna

Kali --> 192.168.10.0/24  --> router1
router1 --> 192.168.100.0/24  --> router2
router2 --> 192.168.20.0/24   -->  metaploitable

Los numeros que terminas la ip  (10, 100, 20)
son los que usamos en los nombres de settings red interna
en cada maquina virtual

Editando router1
su nano /etc/hostname
(para debian sudo es su y password = E)

su nano /etc/hosts


Metaspoitable

login = msfadmin
password = msfadmin


cat /etc/network/interfaces (donde estan las configurarciones
de red)

iface eth0 inet static
	address 192.168.20.23
	netmask 255.255.255.0
	network 192.168.20.0
	broadcast 192.168.20.255
	gateway  192.168.20.254



para Kali

# The primary interface
auto eth0
iface eth0 inet static
	address 192.168.10.5
	netmask 255.255.255.0
	network 192.168.10.0
	broadcast 192.168.10.255
	gateway 192.168.10.254



# para router1

# The primary interface
auto enp0s3
iface enp0s3 inet static
	address 192.168.10.254
	netmask 255.255.255.0


auto enp0s8
iface enp0s8 inet static
	address 192.168.100.1
	netmask 255.255.255.0

up ip route add 192.168.20.23/24  via 192.168.100.1 dev enp0s8


**************************************************************
**************************************************************

router2

# The primary interface
auto enp0s3
iface enp0s3 inet static
	address 192.168.20.254
	netmask 255.255.255.0



# The primary interface
auto enp0s8
iface enp0s8 inet static
	address 192.168.100.2
	netmask 255.255.255.0


up ip route add 192.168.10.5  via 192.168.100.2  dev enp0s8



**************************************************************
**************************************************************
Kali



# The primary interface
auto eth0
iface eth0 inet static
	address 192.168.10.5
	netmask 255.255.255.0
	network 192.168.10.0
	broadcast 192.168.10.255
	gateway  192.168.10.254



	**************************************************************
	**************************************************************

comandos cambiar el hostname


sudo nano /etc/hostname
	Para cambiar el nombre del host

sudo nano /etc/hosts
	para reafirmar en cambio del host


sudo nano /etc/network/interface
	para cambiar la configurarcion del host y las ip


sudo  nano /proc/sys/net/ipv4/ip_forward
	por defecto esta en Cero (0)
	debemos cambiar al 1 para que redirija
	la informacion que no es para el y loredirija segun su
	tabla de enrouatmiento



Reiniciar el servidor

sudo service networking restart
(el servidor se reinicia para aceptar los
valores de la configurarcion del host e ip )

vamos a Metaspoitable DVWA y desde ya ZED comienza a capturar
las peticiones . podemos capturarlas
a diferencia de Webscarab que editabamos aqui en ZED
simplemete estamos interceptando para tratar de analizar
lo que estamos haciendo
en DVWA nos logiamos
ya nos capturo el usuario y contrasena
sername=admin&password=password&Login=Login
estamos enviando
sername como admin
password como password
login como login

hasta ahora zed esta capturando los requests y lo
vamos a usar para saber solamente como funciona la app web


en site muestra las carpetas de los sitios que estoy
navegando o que ZED a identificado hasta ahora
recordemos que estamos haciendo dos o tres actividades
al mismo tiempo
1 la interceptacion de los requests (paquetes o peticiones
		ida y vuelta del servidor )

2 Spidering para ver que otras urls estan asociadas al Website

3 vamos a correr un analisis de vulnerabilidades similar a
	nikto pero en ZED desde una interfaz grafica

en ZED sobre las carpetas de los sitios y click derecho
	podemos ver varios parametros que podemos hacer
	com ataques copias , etc
	son bandera para que ZED las guarde para post analisis

	vamos a hacer Spidering sobre la pagina DVWA
	Spidering es construir un arbol atraves de todas las
	urls que estan vinculadas una con otra

	el objetivo con Spidering es buscar la estructura
		completa de una website
	para poder hacer los diferentes ataques , sqlinjection
	XSS por eso necesitamos identificar todas las paginas
	que tiene la website buscando formularios
	tambien para saber como estan entrelazada entre ellas
	en particular nos sirve para identificar urls
	especificas en donde hay paginas que tiene php o
	que tengan login
	ir navegar y explorar cada una de ellas buscando los
	espacios de formularios



en ZED en el tag de Quick Start
	podemos poner directamente la url que queremos auditar
	y lo que va hacer ZED es hacer un analisis de
	vulnerabilidades similar a nikto o GoLismero que
	es probar todos los servicios paginas de login
	para ver cual tiene vulnerabilidad

despues de que termine analisar la website asignada el tiene
un tag de alertas donde similar a openvas o nessus nos
dara informacion por colores de clasificacio las de mayor
y menor riesgo

aparece mucha informacion hay que dedicar tiempo para leer
y analisar que podemos hacer con toda esta informacion
ejemplo hay una alerta de XSS


Web Browser XSS Protection is not enabled, or is disabled by
the configuration of the 'X-XSS-Protection' HTTP response
header on the web server


aqui podemos atacar

en pocas palabras esta herramienta nos ayuda a analisar
muchas vulnerabilidades que hay ..
en la vida real una vulnerabilidad bien estudiada
puede comprometer el website 
