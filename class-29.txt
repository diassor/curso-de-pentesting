Ataques a passwords locales (windows)

    Sistema de autenticacion local de windows
    Cómo abrir el Editor del Registro en Windows 10

        En el cuadro de búsqueda de la barra de tareas, escribe
        regedit. A continuación, selecciona el primer resultado
         para Editor del Registro (aplicación de escritorio).

         Mantén presionado o haz clic con el botón derecho en el botón Inicio y luego selecciona Ejecutar. Escribe regedit en el cuadro Abrir: y selecciona Aceptar.


    Dentro del editor de registro o Registry Editor
        hay varios grupos nos vamos a enfocar en el
            HKEY_LOCAL_MACHINE
                SAM
                SECURITY
                SOFTWARE
                SYSTEM

        SAM = Es donde esta la informacion de usuarios locales
              es el archivo que contiene por excelencia la info
              de usuario las contrasenas y demas
                LAs llaves que ayudan a desifrar las contrasenas
                cuando se autentican estan en un archivo llamado
                system

            cuando estamos como usuario no podemos ver todas estas
            llaves de informacio
            pero si podemos navegar
            C:\WINDOWS\system32\config = alli se encuentran los
                archivos
            nota =  la estructura de windowsXP no ha cambiado hasta
            la fecha aun en win10 se mantienen las mismas
            rutas y nombres de archivos

        si estamos haciendo una auditoria y podemos hacer una
        imagen forence o un copiado del sistema de archivos
        completo tomariamos estos archivos y realizariamos el
        analisis
        en los videos anteriores hicimos un volcado de esta informacio
        con ayuda de meterpreter y sus payloads

    hash-identifier
        pegamos el hash para ver que tipo de encripatacion es

    nota =   hay una informacion relevante con respecto a pass
              y $salt

        el md5 no se calcula solamente del password
        ejemplo =  si hay dos usuarios con la misma contrasena
                    ya hemos calculado el primer hash

                el $salt se usa en varios sistemas para agregar
                una cadema adicional al password , una cadena
                aleatoria y esta cadena es almacena en el archivo
                de este segundo usuario
            osea cuando este usuario da su password el sistema
            le agrega el $salt y se calcula
            el sistema hace una combinacion de hashes (o son
            combinaciondes de hashes ) de manera que en lugar de
            calcular el md5 del passoword que se esta utilizando
            se hace una funcion de md5 (funcion combinada) para obtener valores diferentes

        john --rules --wordlists=passwords.txt format=nt hashes

        wordlist =  su parametro es el archivo donde tengo las
                    palabras claves o supuestas contrasenas
        format =   es importante el tipo de formato del
                    sistema que usa en el caso de windows es nt
        nt =  parametro para sistemas operativos windows

        hashes =  es el archivvo con los hash que se obtuvieron

        es muy importante crear un buen diccionario con las
        palabras claves obtenidas por la ingenieria social
        
