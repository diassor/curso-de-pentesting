Webscarab ( Spidering e intercepcion )

Antes de ewmpezar hacer ataques es impotante entender
la preparacion , como los ataques de codigo .

como funciona la app o web que estamos auditando
1 = hacer un analisis para saber como esta construida , que
    componentes tiene , alguna url que no hemos identificado
    aun .

2 = Analisar el trafico de las peticiones normales que haria
    un usuario , para ver como podemos alterar las peticiones
    ejemplo para inyeccion de codigo

entender como funciona , la estructura de la pagina web ,
antes de realizar cualquier auditoria

Webscarab =  es una herramienta para hacer spidering
    es decir para identificar todos los componentes , o
    elementos adicionales de una web
    y tambien nos permite atraves de un navegador proxy
    identificar estas peticiones , como un sitio web
    se comunica con sus usuarios

en kali = 03 - web application analysis
        => Webscarab

    listos estamos en la pagina
    alli podemos escoger que tipo de interfaz queremmos
    puede ser : lite o full por defecto yo la tengo full

    para que ella pueda funcionar hay que
    activar nuestro navegador para que use un proxy local .

proxy = es una redireccionamiento de trafico , es para que
        todo el trafico web se haga atraves de una ip
        diferente  asi se puede monitoriar

        una de las cosas importantes para hacer el
        analisis de paginas webs es poder hacer capturas
        del trafico , del requests y respuestas que
        viajan atravez de Http o Https .
        para poder identificar o alterar el parametro
        o variable que vamos a enviar y haci poder alterar
        el funcionamiento de las app webs

        estoy en firefox y lo vamos a configurar para que
        trabaje como proxy

        en firefox vamos a preference =>  general =>
            networking settings =>

            Manual proxy configuration :
                127.0.0.1
                que todas la peticiones vallan al local house
                osea que valla atraves de mi propia ip local
                conpuerto :
                8008

            cuando queremos que una pagina web nos identifique
            apartir de una ip diferente a la ip real ,
            configuramos la ip de un servicio proxy y aun
            puerto que querrammos

    aqui estamos entrando a la 192.168.1.18 que es
    metasploitable y ya podemos ver como Webscarab comienza a
    trabajar
    en estos momentos esta trabajando como proxy y el esta
    registrando las solicitudes que hacemos

    http://www.webscantest.com
        es una pagina para hacer ejercios de analisis
    volvemos a Webscarab y sobre esta url click derecho y
    seleccionamos => spider tree
    hay comienza a trabajar y lo que comienza hacer con ese
    comando es sacar todas las url disponibles que estan
    vinculadas con ese servicio web .
    Con esto nos ayuda a identificar donde hay inicio de
    session , menus , etc

    http://www.webscantest.com/business/
    http://www.webscantest.com/privacy.php

    En el tag de proxy vamos a interceptar las solicitudes y
    respuestas (palomiar en el cuadro blanco arriba y abajo)

    Las solicitudes van hacer cada uno de los comando que yo
    envie a a la web y
    Las respuestas es lo que la web me entrega
    es similar a wireshark con los paquetes

    en la pagina de metasploitable vamos al link
    phpMyAdmin imediatamente Webscarab me dice
    que intercepto algo .
    aqui lo unico que intercepto es la solicitud de abrir
    la url de phpMyAdmin (mientras tanto en la pagina
    de metasploitable sigue cargando ) hasta que le damos
    aceptar en la venta emergente que nos dio Webscarab de
    la solicitud e inmediatamente abre otra ventana
    emergente con con la respuesta del phpMyAdmin

    vamos a probar en phpMyAdmin un usuario y password

    en Webscarab nos muestra la nueva solicitud que hicimos
    en esta ventana aparece el usuario y el password que
    usamos para identificarnos con phpMyAdmin

    vamos a modificar el contenido del formulario
    atraves de la ventana de Webscarab
    en pma_username  aparece usuario que es el nombre que
    yo escribi en phpMyAdmin
    lo cambiare por admin

    esto nos permite saber cuando estamos explorando la web

    aceptamos los cambios y empezamos a recibir las respuestas
    del servidor
    a medida que vamos aceptando vamos mirando el trafico
    hasta que despalomiemos los intercepcion de requests and
    responses

    1045 - Access denied for user 'admin'@'localhost' (using password: YES)
    aqui podemos ver como pudimos cambiar la peticion
    de autenticacion de phpMyAdmin
    del nombre usuario lo cambie por admin
    nunca llego al sitio web por que yo lo altere por el
    camino
