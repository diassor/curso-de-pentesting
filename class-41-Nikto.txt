 Analisis de servicios web (Nikto)

 Pruebas de pentesting
     etapas de identificacion
     Analisis de vulnerabilidades
     ataques o Explotacion

     root@edwin:~# nmap -Pn 192.168.1.17
     80/tcp open  http

    El puerto 80 es por defecto el que usa http lo cual
    quire decir que hay un servicio web que esta corriendo
    o que por  lo menos es  puerto es abierto , por lo
    general estan abiertos cuando se corre unservidor apache ,
    nginx o algo asi
    el puerto  80 es el que redireciona los navegandores cada
    vez que se hacen peticiones (lo que hace es un handpage
    de TCP ) el servidor web responde por lo general con
    el index,html

    escribiendo la ip de metasploitable en la barra de
    navegacion nos da una conecion a la maquina de
    metasploitable

    vamos a analizar en esta pagina que vulnerabilidades o
    espacios de ataque tiene este servidor

    la pagina que tiene metasploitable es el index y
    tiene por defecto varios servicios entre ellos DVWA
    que es para analisis es sistema OWASP que es para
    analisis de paginas web


                _                  _       _ _        _     _      ____
 _ __ ___   ___| |_ __ _ ___ _ __ | | ___ (_) |_ __ _| |__ | | ___|___ \
| '_ ` _ \ / _ \ __/ _` / __| '_ \| |/ _ \| | __/ _` | '_ \| |/ _ \ __) |
| | | | | |  __/ || (_| \__ \ |_) | | (_) | | || (_| | |_) | |  __// __/
|_| |_| |_|\___|\__\__,_|___/ .__/|_|\___/|_|\__\__,_|_.__/|_|\___|_____|
                            |_|


Warning: Never expose this VM to an untrusted network!

Contact: msfdev[at]metasploit.com

Login with msfadmin/msfadmin to get started


    TWiki
    phpMyAdmin
    Mutillidae
    DVWA
    WebDAV


    Vamos hacer un analisis preliminar de vulnerabilidades
    para ver  ese servicio web que espacios de ataque tiene

    herramientas a usar nixto

Nikto = Lo que hace es hacer un escaneo de vulnerabilidades
        contra un servicio web .
        tiene muchas opciones

@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@


"{

root@edwin:~# nikto
- Nikto v2.1.6
---------------------------------------------------------------------------
+ ERROR: No host or URL specified

       -config+            Use this config file
       -Display+           Turn on/off display outputs
       -dbcheck            check database and other key files
                           for syntax errors
       -Format+            save file (-o) format
       -Help               Extended help information
       -host+              target host/URL
       -id+                Host authentication to use, format
                           is id:pass or id:pass:realm
       -list-plugins       List all available plugins
       -output+            Write output to this file
       -nossl              Disables using SSL
       -no404              Disables 404 checks
       -Plugins+           List of plugins to run (default:
                           ALL)
       -port+              Port to use (default 80)
       -root+              Prepend root value to all
                           requests, format is /directory
       -ssl                Force ssl mode on port
       -Tuning+            Scan tuning
       -timeout+           Timeout for requests (default 10
                           seconds)
       -update             Update databases and plugins from
                           CIRT.net
       -Version            Print plugin and database versions
       -vhost+             Virtual host (for Host header)


            + requires a value

	Note: This is the short help output. Use -H for full help
          text.

}

"

root@edwin:~# nikto -h 192.168.1.18
    donde -h = la ip a atacar

    el esta apuntando al puerto 80 si queremos cambiar el
    puerto como 443 que Https

    - Nikto v2.1.6
    ---------------------------------------------------------------------------
    + Target IP:          192.168.1.18
    + Target Hostname:    192.168.1.18
    + Target Port:        80
    + Start Time:         2019-07-31 23:31:11 (GMT-4)

y ahora la respuesta del analisis


"
{
+ Server: Apache/2.2.8 (Ubuntu) DAV/2
+ Retrieved x-powered-by header: PHP/5.2.4-2ubuntu5.10
+ The anti-clickjacking X-Frame-Options header is not present.
+ The X-XSS-Protection header is not defined. This header can hint to the user agent to protect against some forms of XSS
+ The X-Content-Type-Options header is not set. This could allow the user agent to render the content of the site in a different fashion to the MIME type
+ Uncommon header 'tcn' found, with contents: list
+ Apache mod_negotiation is enabled with MultiViews, which allows attackers to easily brute force file names. See http://www.wisec.it/sectou.php?id=4698ebdc59d15. The following alternatives for 'index' were found: index.php
+ Apache/2.2.8 appears to be outdated (current is at least Apache/2.4.37). Apache 2.2.34 is the EOL for the 2.x branch.
+ Web Server returns a valid response with junk HTTP methods, this may cause false positives.
+ OSVDB-877: HTTP TRACE method is active, suggesting the host is vulnerable to XST
+ /phpinfo.php: Output from the phpinfo() function was found.
+ OSVDB-3268: /doc/: Directory indexing found.
+ OSVDB-48: /doc/: The /doc/ directory is browsable. This may be /usr/doc.
+ OSVDB-12184: /?=PHPB8B5F2A0-3C92-11d3-A3A9-4C7B08C10000: PHP reveals potentially sensitive information via certain HTTP requests that contain specific QUERY strings.
+ OSVDB-12184: /?=PHPE9568F36-D428-11d2-A769-00AA001ACF42: PHP reveals potentially sensitive information via certain HTTP requests that contain specific QUERY strings.
+ OSVDB-12184: /?=PHPE9568F34-D428-11d2-A769-00AA001ACF42: PHP reveals potentially sensitive information via certain HTTP requests that contain specific QUERY strings.
+ OSVDB-12184: /?=PHPE9568F35-D428-11d2-A769-00AA001ACF42: PHP reveals potentially sensitive information via certain HTTP requests that contain specific QUERY strings.
+ OSVDB-3092: /phpMyAdmin/changelog.php: phpMyAdmin is for managing MySQL databases, and should be protected or limited to authorized hosts.
+ Server may leak inodes via ETags, header found with file /phpMyAdmin/ChangeLog, inode: 92462, size: 40540, mtime: Tue Dec  9 12:24:00 2008
+ OSVDB-3092: /phpMyAdmin/ChangeLog: phpMyAdmin is for managing MySQL databases, and should be protected or limited to authorized hosts.
+ OSVDB-3268: /test/: Directory indexing found.
+ OSVDB-3092: /test/: This might be interesting...
+ OSVDB-3233: /phpinfo.php: PHP is installed, and a test script which runs phpinfo() was found. This gives a lot of system information.
+ OSVDB-3268: /icons/: Directory indexing found.
+ OSVDB-3233: /icons/README: Apache default file found.
+ /phpMyAdmin/: phpMyAdmin directory found
+ OSVDB-3092: /phpMyAdmin/Documentation.html: phpMyAdmin is for managing MySQL databases, and should be protected or limited to authorized hosts.
+ OSVDB-3092: /phpMyAdmin/README: phpMyAdmin is for managing MySQL databases, and should be protected or limited to authorized hosts.
+ 8726 requests: 0 error(s) and 27 item(s) reported on remote host
+ End Time:           2019-07-31 23:31:36 (GMT-4) (25 seconds)
---------------------------------------------------------------------------
+ 1 host(s) tested


}
"

Cuando hacemos el analisis de vulnerabilidades tratamos de
identificar que versiones de servidores estan utilizando o
que servicios estan montando .
por que eso no va ayudar a identificar si existe una
vulnerabilidad o no , adicional a las que encuentre en la
herramienta

OSVDB-3268: /doc/: Directory indexing found

OSVDB-48: /doc/: The /doc/ directory is browsable. This may
                be /usr/doc.
    esta es una vulnerabilidad que nos dice que este
    directorio esta indexado y que podemos navegar
    atraves de el

        http://192.168.1.18/doc/  aqui esta todas las
            carpetas de que nos dijo la vulnerabilidad




cada vulnerabilidad tiene su propio payload and exploit
